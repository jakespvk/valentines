<!-- Golden Hour Valentine -->
<div class="golden-hour"
  [class.scene-transitioning]="scene() === 'transitioning'"
  [class.scene-card]="scene() === 'card'"
  [class.scene-burst]="scene() === 'celebrating-burst'"
  [class.scene-countdown]="scene() === 'countdown'">

  <!-- Sky gradient background -->
  <div class="sky"></div>
  <div class="horizon-glow"></div>

  <!-- Paper/grain texture overlay -->
  <div class="texture-overlay"></div>

  <!-- Sun rays (behind sun) -->
  <div class="sun-rays">
    @for (ray of [1,2,3,4,5,6,7,8,9,10,11,12]; track ray) {
      <div class="ray" [style.--ray-index]="ray"></div>
    }
  </div>

  <!-- The Sun -->
  <button class="sun" (click)="onSunClick()" [disabled]="scene() !== 'sunset'" aria-label="Click to open Valentine">
    <div class="sun-core"></div>
    <div class="sun-glow"></div>
    <div class="sun-flare"></div>
  </button>

  <!-- Clouds -->
  <div class="clouds-container">
    <div class="cloud cloud-1"></div>
    <div class="cloud cloud-2"></div>
    <div class="cloud cloud-3"></div>
    <div class="cloud cloud-4"></div>
    <div class="cloud cloud-5"></div>
  </div>

  <!-- Floating elements -->
  <div class="floating-elements"></div>

  <!-- Sunset scene prompt -->
  @if (scene() === 'sunset') {
    <div class="sunset-prompt">
      <span class="prompt-text">touch the sun</span>
    </div>
  }

  <!-- Sunburst flash overlay (sun click) -->
  <div class="sunburst-flash"></div>

  <!-- Button burst flash overlay (yes click) -->
  <div class="button-burst-flash"></div>

  <!-- Valentine Card -->
  @if (scene() === 'card' || scene() === 'celebrating-burst') {
    <div class="card-container" [class.bursting]="scene() === 'celebrating-burst'">
      <div class="valentine-card">
        <div class="card-content">
          <div class="card-header">
            <span class="decorative-heart left">&#9829;</span>
            <h1 class="headline">My Love</h1>
            <span class="decorative-heart right">&#9829;</span>
          </div>

          <!-- <p class="recipient">Dear {{ recipientName }},</p> -->

          <p class="message">{{ personalMessage }}</p>

          <div class="details-divider"></div>

          <div class="details">
            <p class="ask-line">{{ dateDetails }}</p>
            <!-- <p class="detail-line">{{ timeDetails }}</p> -->
            <!-- <p class="detail-line">{{ locationDetails }}</p> -->
          </div>

          <!-- <p class="signature">{{ senderName }}</p> -->

          @if (scene() === 'card') {
            <div class="button-wrapper">
              <button class="yes-button" (click)="onYesClick()">
                <span class="button-text">Yes!</span>
                <!-- <span class="button-heart">&#9829;</span> -->
              </button>
            </div>
          }
        </div>
      </div>
    </div>
  }

  <!-- Countdown scene -->
  @if (scene() === 'countdown') {
    <div class="countdown-container">
      <h2 class="countdown-heading">Counting down to us...</h2>

      <div class="countdown-grid">
        <div class="countdown-unit">
          <span class="countdown-number">{{ countdownDays().toString().padStart(2, '0') }}</span>
          <span class="countdown-label">days</span>
        </div>
        <span class="countdown-separator">:</span>
        <div class="countdown-unit">
          <span class="countdown-number">{{ countdownHours().toString().padStart(2, '0') }}</span>
          <span class="countdown-label">hours</span>
        </div>
        <span class="countdown-separator">:</span>
        <div class="countdown-unit">
          <span class="countdown-number">{{ countdownMinutes().toString().padStart(2, '0') }}</span>
          <span class="countdown-label">mins</span>
        </div>
        <span class="countdown-separator">:</span>
        <div class="countdown-unit">
          <span class="countdown-number">{{ countdownSeconds().toString().padStart(2, '0') }}</span>
          <span class="countdown-label">secs</span>
        </div>
      </div>

      <p class="countdown-location">{{ locationDetails }}</p>
    </div>
  }

  <!-- Soft confetti container -->
  <div class="confetti-container"></div>
</div>
